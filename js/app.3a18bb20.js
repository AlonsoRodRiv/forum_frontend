(function(){"use strict";var e={614:function(e,t,r){var n=r(751),o=r(641);function i(e,t){const r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(r)}var s=r(262);const a={},u=(0,s.A)(a,[["render",i]]);var l=u,c=r(220),d=r(635),f=r(33),p=r(953),v=r(335);function b(){var e=localStorage.getItem("token");return e?{Authorization:"Bearer "+e}:{}}var g="/api/",m=function(){function e(){}return Object.defineProperty(e.prototype,"getInitBoard",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(e){switch(e.label){case 0:return[4,v.A.get(g+"cursos")];case 1:return[2,e.sent()]}}))}))}}),Object.defineProperty(e.prototype,"getTopicsBoard",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(t){switch(t.label){case 0:return[4,v.A.get(g+"curso/".concat(e,"/topics"),{headers:b()})];case 1:return[2,t.sent()]}}))}))}}),Object.defineProperty(e.prototype,"getRepliesBoard",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(t){switch(t.label){case 0:return[4,v.A.get(g+"topicos/".concat(e,"/respuestas"),{headers:b()})];case 1:return[2,t.sent()]}}))}))}}),Object.defineProperty(e.prototype,"createCourses",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(r){switch(r.label){case 0:return[4,v.A.post(g+"curso/crear",{nombre:e,descripcion:t},{headers:b()})];case 1:return[2,r.sent()]}}))}))}}),Object.defineProperty(e.prototype,"createReplies",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(r){switch(r.label){case 0:return[4,v.A.post(g+"respuestas/".concat(e,"/crear"),{mensaje:t},{headers:b()})];case 1:return[2,r.sent()]}}))}))}}),Object.defineProperty(e.prototype,"createTopics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(n){switch(n.label){case 0:return[4,v.A.post(g+"topicos/".concat(e,"/crear"),{titulo:t,mensaje:r},{headers:b()})];case 1:return[2,n.sent()]}}))}))}}),Object.defineProperty(e.prototype,"deleteTopic",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(t){switch(t.label){case 0:return[4,v.A.delete(g+"topicos/".concat(e,"/borrar"),{headers:b()})];case 1:return[2,t.sent()]}}))}))}}),Object.defineProperty(e.prototype,"updateTopic",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(n){switch(n.label){case 0:return[4,v.A.put(g+"topicos/".concat(e,"/actualizar"),{titulo:t,mensaje:r},{headers:b()})];case 1:return[2,n.sent()]}}))}))}}),Object.defineProperty(e.prototype,"deleteReply",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(t){switch(t.label){case 0:return[4,v.A.delete(g+"topicos/".concat(e,"/borrar"),{headers:b()})];case 1:return[2,t.sent()]}}))}))}}),Object.defineProperty(e.prototype,"updateReply",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(r){switch(r.label){case 0:return[4,v.A.put(g+"topicos/".concat(e,"/actualizar"),{mensaje:t},{headers:b()})];case 1:return[2,r.sent()]}}))}))}}),e}(),h=new m,x=r(465),k=r.n(x),y=r(278),w=(0,y.y$)({state:{role:localStorage.getItem("role")||"",token:localStorage.getItem("token")||null,authentication:!!localStorage.getItem("token")},getters:{token:function(e){return e.token},isAuthenticated:function(e){return e.authentication},role:function(e){return e.role}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_AUTHENTICATION:function(e,t){e.authentication=t},CLEAR_TOKEN:function(e){e.token=null,e.authentication=!1,e.role="",localStorage.removeItem("role"),localStorage.removeItem("token")},SET_ROLE:function(e,t){e.role=t,localStorage.setItem("role",t)}},actions:{logout:function(e){var t=e.commit;t("CLEAR_TOKEN")}},modules:{}}),L="/api/auth/",C=function(){function e(){}return Object.defineProperty(e.prototype,"login",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,d.sH)(this,void 0,void 0,(function(){var r;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return[4,v.A.post(L+"login",{username:e,password:t})];case 1:return r=n.sent(),[2,r.data]}}))}))}}),Object.defineProperty(e.prototype,"logout",{enumerable:!1,configurable:!0,writable:!0,value:function(){w.dispatch("logout")}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return(0,d.sH)(this,void 0,void 0,(function(){return(0,d.YH)(this,(function(n){switch(n.label){case 0:return[4,v.A.post(L+"register",{username:e,email:t,password:r})];case 1:return[2,n.sent()]}}))}))}}),e}(),j=new C,E=r(537),R={class:"bg-gray-900 py-4 px-6 text-white"},_={class:"container mx-auto flex items-center justify-between"},T={key:0,class:"flex items-center gap-4 font-serif font-semibold"},H={key:1,class:"flex items-center space-x-4 relative"},O={class:"flex items-center space-x-2"},A=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-5 w-5 text-gray-500"},[(0,o.Lk)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,o.Lk)("circle",{cx:"12",cy:"7",r:"4"})],-1),S={class:"text-gray-700 font-medium"},B=(0,o.Fv)('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg><span class="sr-only">Toggle user menu</span>',2),K=[B],I={key:0,class:"absolute top-16 right-0 bg-white shadow-md border rounded-md w-48 py-2"},X={class:"flex items-center space-x-2 px-4 py-2"},D=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-5 w-5 text-gray-500"},[(0,o.Lk)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,o.Lk)("circle",{cx:"12",cy:"7",r:"4"})],-1),M={class:"text-gray-700 font-medium"},$=(0,o.Lk)("hr",null,null,-1),U=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-5 w-5"},[(0,o.Lk)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,o.Lk)("polyline",{points:"16 17 21 12 16 7"}),(0,o.Lk)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})],-1),V=(0,o.Lk)("span",null,"Salir",-1),P=[U,V],Y=(0,o.pM)({__name:"HeaderComponent",setup:function(e){var t=(0,o.EW)((function(){return w.getters.isAuthenticated})),r=(0,p.KR)(!1),i=(0,p.KR)("");function s(){r.value=!r.value,console.log("user",i.value)}var a=localStorage.getItem("role");function u(){j.logout(),Fr.push({name:"home"}),r.value=!1}return(0,o.sV)((function(){var e=localStorage.getItem("token");if(console.log("token",e),e){var t=(0,E.s)(e);t.sub&&(i.value=t.sub)}})),function(e,l){var c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",R,[(0,o.Lk)("div",_,[(0,o.bF)(c,{to:"/",class:"text-2xl font-bold flex"},{default:(0,o.k6)((function(){return[(0,o.eW)(" Forum")]})),_:1}),t.value?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",O,[A,(0,o.Lk)("span",S,(0,f.v_)(i.value),1)]),(0,o.Lk)("button",{onClick:s,class:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full",type:"button"},K),r.value?((0,o.uX)(),(0,o.CE)("div",I,[(0,o.Lk)("div",X,[D,(0,o.Lk)("span",M,(0,f.v_)((0,p.R1)(a)),1)]),$,(0,o.Lk)("button",{onClick:u,class:"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 w-full text-left text-red-600"},P)])):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",T,[(0,o.Lk)("a",{class:"mr-4 hover:underline cursor-pointer",onClick:l[0]||(l[0]=(0,n.D$)((function(t){return e.$emit("show-login-modal")}),["prevent"]))},"Login"),(0,o.Lk)("a",{class:"hover:underline cursor-pointer",onClick:l[1]||(l[1]=(0,n.D$)((function(t){return e.$emit("show-register-modal")}),["prevent"]))},"Register")]))])])}}});const F=Y;var W=F;const Q={class:"bg-white p-6 rounded-lg shadow-lg w-96"};function q(e,t){return(0,o.uX)(),(0,o.CE)("div",{class:"fixed inset-0 bg-zinc-800 bg-opacity-50 flex justify-center items-center",onClick:t[0]||(t[0]=(0,n.D$)((t=>e.$emit("close")),["self"]))},[(0,o.Lk)("div",Q,[(0,o.RG)(e.$slots,"default")])])}const N={},J=(0,s.A)(N,[["render",q]]);var z=J,G=function(e){return(0,o.Qi)("data-v-e536aaf0"),e=e(),(0,o.jt)(),e},Z={class:"bg-card p-8 rounded-lg shadow-lg w-full max-w-sm relative"},ee=G((function(){return(0,o.Lk)("h2",{class:"text-2xl font-bold mb-6 text-center text-foreground"},"Login",-1)})),te={class:"mb-4"},re=G((function(){return(0,o.Lk)("label",{class:"block text-foreground mb-2",for:"username"},"Username",-1)})),ne={class:"mb-6"},oe=G((function(){return(0,o.Lk)("label",{class:"block text-foreground mb-2",for:"password"},"Password",-1)})),ie=G((function(){return(0,o.Lk)("button",{class:"w-full bg-primary text-primary-foreground py-2 rounded hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-primary",type:"submit"}," Sign In ",-1)})),se={class:"mt-4 text-center text-muted-foreground"},ae=(0,o.pM)({__name:"SignIn",emits:["close","switch-to-register"],setup:function(e,t){var r=this,i=(t.emit,(0,p.KR)("")),s=(0,p.KR)(""),a=function(){return(0,d.sH)(r,void 0,void 0,(function(){var e,t,r,n;return(0,d.YH)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,j.login(i.value,s.value)];case 1:return e=o.sent(),e.jwt&&localStorage.setItem("token",e.jwt),t=localStorage.getItem("token"),t&&(r=(0,E.s)(t),r.role&&w.commit("SET_ROLE",r.role)),window.location.reload(),[3,3];case 2:return n=o.sent(),v.A.isAxiosError(n)&&(n.response?n.response.status>=401&&k().fire({title:"Ups!",text:n.response.data,icon:"info",confirmButtonText:"Ok"}):k().fire({title:"Error!",text:n.response,icon:"error",confirmButtonText:"Ok"})),[3,3];case 3:return[2]}}))}))};return function(e,t){return(0,o.uX)(),(0,o.CE)("div",{onClick:t[3]||(t[3]=(0,n.D$)((function(t){return e.$emit("close")}),["self"])),class:"fixed inset-0 flex items-center justify-center bg-zinc-800 bg-opacity-50"},[(0,o.Lk)("div",Z,[ee,(0,o.Lk)("form",{onSubmit:(0,n.D$)(a,["prevent"])},[(0,o.Lk)("div",te,[re,(0,o.bo)((0,o.Lk)("input",{class:"w-full px-3 py-2 border rounded bg-input text-foreground border-border focus:outline-none focus:ring-2 focus:ring-primary",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value=e}),placeholder:"Username",required:""},null,512),[[n.Jo,i.value]])]),(0,o.Lk)("div",ne,[oe,(0,o.bo)((0,o.Lk)("input",{class:"w-full px-3 py-2 border rounded bg-input text-foreground border-border focus:outline-none focus:ring-2 focus:ring-primary",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.value=e}),placeholder:"Password",required:""},null,512),[[n.Jo,s.value]])]),ie],32),(0,o.Lk)("p",se,[(0,o.eW)(" Don't have an account? "),(0,o.Lk)("a",{href:"#",class:"text-primary hover:underline hover:text-blue-800",onClick:t[2]||(t[2]=(0,n.D$)((function(t){return e.$emit("switch-to-register")}),["prevent"]))},"Register here")])])])}}});const ue=(0,s.A)(ae,[["__scopeId","data-v-e536aaf0"]]);var le=ue,ce={class:"bg-card w-full max-w-sm relative"},de=(0,o.Lk)("h2",{class:"text-2xl font-bold mb-2 text-center text-foreground"},"Register",-1),fe=(0,o.Lk)("p",{class:"text-center text-muted-foreground mb-6"},"Create a new account to get started.",-1),pe={class:"mb-4"},ve=(0,o.Lk)("label",{class:"block text-foreground mb-2",for:"reg-username"},"Username",-1),be={class:"mb-4"},ge=(0,o.Lk)("label",{class:"block text-foreground mb-2",for:"reg-email"},"Email",-1),me={class:"mb-6"},he=(0,o.Lk)("label",{class:"block text-foreground mb-2",for:"reg-password"},"Password",-1),xe=(0,o.Lk)("button",{class:"w-full bg-primary text-primary-foreground py-2 rounded hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-primary",type:"submit"}," Register ",-1),ke={class:"mt-4 text-center text-muted-foreground"},ye=(0,o.pM)({__name:"SignUp",setup:function(e){var t=this,r=(0,p.Kh)({email:"",username:"",password:""}),i=function(){return(0,d.sH)(t,void 0,void 0,(function(){var e,t,n;return(0,d.YH)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,j.register(r.username,r.email,r.password)];case 1:return e=o.sent(),200==e.status&&k().fire({title:"Registro exitoso!",text:e.data,icon:"success",confirmButtonText:"Ok"}),[3,3];case 2:return t=o.sent(),n=t,n.response?400===n.response.status&&k().fire({title:"Ups!",text:String(n.response.data),icon:"info",confirmButtonText:"Ok"}):k().fire({title:"Error!",text:"Ha ocurrido un error desconocido",icon:"error",confirmButtonText:"Ok"}),[3,3];case 3:return[2]}}))}))};return function(e,t){return(0,o.uX)(),(0,o.CE)("div",ce,[de,fe,(0,o.Lk)("form",{onSubmit:(0,n.D$)(i,["prevent"])},[(0,o.Lk)("div",pe,[ve,(0,o.bo)((0,o.Lk)("input",{class:"w-full px-3 py-2 border rounded bg-input text-foreground border-border focus:outline-none focus:ring-2 focus:ring-primary",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),placeholder:"Username",required:""},null,512),[[n.Jo,r.username]])]),(0,o.Lk)("div",be,[ge,(0,o.bo)((0,o.Lk)("input",{class:"w-full px-3 py-2 border rounded bg-input text-foreground border-border focus:outline-none focus:ring-2 focus:ring-primary",type:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.email=e}),placeholder:"Email",required:""},null,512),[[n.Jo,r.email]])]),(0,o.Lk)("div",me,[he,(0,o.bo)((0,o.Lk)("input",{class:"w-full px-3 py-2 border rounded bg-input text-foreground border-border focus:outline-none focus:ring-2 focus:ring-primary",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e}),placeholder:"Password",required:""},null,512),[[n.Jo,r.password]])]),xe],32),(0,o.Lk)("p",ke,[(0,o.eW)(" Already have an account? "),(0,o.Lk)("a",{class:"text-primary hover:text-green-800 cursor-pointer hover:underline",onClick:t[3]||(t[3]=(0,n.D$)((function(t){return e.$emit("switch-to-login")}),["prevent"]))},"Sign in here")])])}}});const we=ye;var Le=we,Ce=(0,o.Lk)("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[(0,o.Lk)("h2",{class:"whitespace-nowrap text-lg font-semibold leading-none tracking-tight"},"Crear Nuevo Curso")],-1),je={class:"grid gap-4 py-4"},Ee={class:"grid items-center grid-cols-4 gap-4"},Re=(0,o.Lk)("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-right"},"Nombre",-1),_e={class:"grid items-center grid-cols-4 gap-4"},Te=(0,o.Lk)("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-right"},"Descripción",-1),He={class:"flex justify-end space-x-2 sm:flex-grow sm:justify-end sm:space-x-2"},Oe=(0,o.Lk)("button",{type:"submit",class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Crear ",-1),Ae={class:"grid"},Se=(0,o.pM)({__name:"CreateCourseModal",emits:["courseCreated","close"],setup:function(e,t){var r=t.emit,i=(0,p.KR)(""),s=(0,p.KR)(""),a=r;function u(){var e;return(0,d.sH)(this,void 0,void 0,(function(){var t,r,n;return(0,d.YH)(this,(function(o){switch(o.label){case 0:console.log("Curso creado"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,h.createCourses(i.value,s.value)];case 2:return t=o.sent(),r=t.data,k().fire({title:"Registro exitoso!",text:"Se ha creado nuevo Curso.",icon:"success",confirmButtonText:"Ok"}),a("courseCreated",r),a("close"),[3,4];case 3:return n=o.sent(),v.A.isAxiosError(n)&&409==(null===(e=n.response)||void 0===e?void 0:e.status)&&k().fire({title:"Error!",text:n.response.data,icon:"error",confirmButtonText:"Ok"}),[3,4];case 4:return[2]}}))}))}return function(e,t){return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)((function(e){return u()}),["prevent"])),class:"rounded-lg fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-[425px]",style:{"pointer-events":"auto"}},[Ce,(0,o.Lk)("div",je,[(0,o.Lk)("div",Ee,[Re,(0,o.bo)((0,o.Lk)("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 col-span-3","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value=e}),placeholder:"Nombre del curso",required:""},null,512),[[n.Jo,i.value]])]),(0,o.Lk)("div",_e,[Te,(0,o.bo)((0,o.Lk)("textarea",{class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 col-span-3","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.value=e}),required:"",placeholder:"Descripción del curso"},null,512),[[n.Jo,s.value]])])]),(0,o.Lk)("div",He,[Oe,(0,o.Lk)("div",Ae,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(0,n.D$)((function(t){return e.$emit("close")}),["self"])),class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancelar ")])])],32)}}});const Be=Se;var Ke=Be,Ie=function(e){return(0,o.Qi)("data-v-fb6f0088"),e=e(),(0,o.jt)(),e},Xe={class:"flex h-screen w-full flex-col"},De={class:"flex-1 bg-gray-100 p-6"},Me={class:"container mx-auto"},$e={key:0,class:"text-center"},Ue=Ie((function(){return(0,o.Lk)("p",null,"Cargando cursos...",-1)})),Ve=[Ue],Pe={key:1,class:"grid gap-3"},Ye={class:"mb-6 flex items-center justify-between"},Fe=Ie((function(){return(0,o.Lk)("h1",{class:"text-2xl text-black font-bold"},"Courses",-1)})),We=Ie((function(){return(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2 h-4 w-4"},[(0,o.Lk)("path",{d:"M5 12h14"}),(0,o.Lk)("path",{d:"M12 5v14"})],-1)})),Qe=Ie((function(){return(0,o.Lk)("hr",null,null,-1)})),qe={key:0,class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},Ne={class:"mb-2 text-lg font-bold"},Je={class:"text-gray-500 dark:text-gray-400"},ze={class:"mt-4 flex items-center justify-between"},Ge={class:"inline-flex w-fit items-center whitespace-nowrap rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:bg-orange-100"},Ze={class:"inline-flex w-fit items-center whitespace-nowrap rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80"},et={key:0,class:"mt-4"},tt={key:1,class:"mt-4"},rt={key:1,class:"text-center py-8"},nt=Ie((function(){return(0,o.Lk)("p",{class:"text-xl text-gray-500"},"No hay cursos disponibles",-1)})),ot=[nt],it=Ie((function(){return(0,o.Lk)("footer",{class:"bg-gray-900 py-4 px-6 text-white"},[(0,o.Lk)("div",{class:"container mx-auto text-center"},"© 2024 Forum. All rights reserved.")],-1)})),st=(0,o.pM)({__name:"HomeView",setup:function(e){var t=this,r=(0,p.Kh)([]),i=(0,p.KR)(!0),s=(0,o.EW)((function(){return w.getters.isAuthenticated})),a=(0,o.EW)((function(){return w.getters.role}));function u(){s.value||l()}(0,o.sV)((function(){return(0,d.sH)(t,void 0,void 0,(function(){var e,t;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,h.getInitBoard()];case 1:return e=n.sent(),console.log("cursos",e.data),e&&e.data&&r.push.apply(r,e.data),[3,4];case 2:return t=n.sent(),console.error(t),k().fire({title:"Error!",text:"No se pudieron cargar los cursos",icon:"error",confirmButtonText:"Ok"}),[3,4];case 3:return i.value=!1,[7];case 4:return[2]}}))}))}));var l=function(){k().fire({title:"Acceso restringido",text:"Debes iniciar sesión para acceder a este curso",icon:"info",confirmButtonText:"Entendido"})},c=(0,p.KR)(!1),v=(0,p.KR)(!1),b=(0,p.KR)(!1),g=function(){return c.value=!c.value},m=function(){return v.value=!v.value},x=function(){c.value=!1,v.value=!1},y=function(){v.value=!1,c.value=!0},L=function(){c.value=!1,v.value=!0};function C(){b.value=!0}function j(){b.value=!1}function E(e){console.log("Nuevo curso:",e),r.push(e)}return function(e,t){var d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Xe,[(0,o.bF)(W,{onShowLoginModal:t[0]||(t[0]=function(e){return!!g()}),onShowRegisterModal:t[1]||(t[1]=function(e){return!!m()})}),(0,o.Lk)("main",De,[(0,o.Lk)("div",Me,[i.value?((0,o.uX)(),(0,o.CE)("div",$e,Ve)):((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Lk)("div",Ye,[Fe,"ADMIN"==a.value?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[2]||(t[2]=(0,n.D$)((function(e){return C()}),["prevent"])),class:"bg-black text-white font-medium font-serif hover:opacity-80 transition-opacity inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[We,(0,o.eW)(" Create Course ")])):(0,o.Q3)("",!0)]),Qe,r.length>0?((0,o.uX)(),(0,o.CE)("div",qe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r,(function(e){return(0,o.uX)(),(0,o.Wv)(d,{key:e.id,to:s.value?"/cursos/".concat(e.id,"/topics"):"",onClick:t[3]||(t[3]=function(e){return u()}),class:"group block rounded-lg bg-white p-4 shadow-md hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800",href:"#"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ne,(0,f.v_)(e.nombre),1),(0,o.Lk)("p",Je,(0,f.v_)(e.descripcion),1),(0,o.Lk)("div",ze,[(0,o.Lk)("div",Ge," Topicos: "+(0,f.v_)(e.topicos),1),(0,o.Lk)("div",Ze," Respuestas: "+(0,f.v_)(e.respuestas),1)]),s.value?((0,o.uX)(),(0,o.CE)("div",et,[(0,o.bF)(d,{to:"/cursos/".concat(e.id,"/topics"),class:"text-blue-500 hover:underline"},{default:(0,o.k6)((function(){return[(0,o.eW)("Ver curso")]})),_:2},1032,["to"])])):((0,o.uX)(),(0,o.CE)("div",tt,[(0,o.Lk)("a",{onClick:(0,n.D$)(l,["prevent"]),class:"text-blue-500 hover:underline cursor-pointer"},"Ver curso")]))]})),_:2},1032,["to"])})),128))])):((0,o.uX)(),(0,o.CE)("div",rt,ot))]))])]),it,c.value?((0,o.uX)(),(0,o.Wv)(le,{key:0,onSwitchToRegister:L,onClose:x})):(0,o.Q3)("",!0),v.value?((0,o.uX)(),(0,o.Wv)(z,{key:1,onClose:x},{default:(0,o.k6)((function(){return[(0,o.bF)(Le,{onSwitchToLogin:y,onClose:x})]})),_:1})):(0,o.Q3)("",!0),b.value?((0,o.uX)(),(0,o.Wv)(z,{key:2,onClose:j},{default:(0,o.k6)((function(){return[(0,o.bF)(Ke,{onClose:j,onCourseCreated:E})]})),_:1})):(0,o.Q3)("",!0)])}}});const at=(0,s.A)(st,[["__scopeId","data-v-fb6f0088"]]);var ut=at,lt={class:"bg-white p-4 rounded-lg shadow-lg"},ct=(0,o.Lk)("h2",{class:"text-xl font-bold"},"Editar Topico",-1),dt=(0,o.Lk)("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded"},"Guardar Cambios",-1),ft=(0,o.pM)({__name:"EditTopicModal",props:{topic:{}},emits:["close","topicUpdated"],setup:function(e,t){var r=t.emit,i=e,s=r,a=(0,p.KR)((0,d.Cl)({},i.topic));function u(e){return(0,d.sH)(this,void 0,void 0,(function(){var t,r;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h.updateTopic(e.id,e.titulo,e.mensaje)];case 1:return t=n.sent(),console.log("recibido: ",t.data),k().fire({title:"Edicion exitosa!",text:"Topico Editado",icon:"success",confirmButtonText:"Ok"}),[3,3];case 2:return r=n.sent(),console.error("error",r),[3,3];case 3:return s("topicUpdated",e),s("close"),[2]}}))}))}function l(){s("close")}return function(e,t){return(0,o.uX)(),(0,o.CE)("div",{class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",onClick:t[3]||(t[3]=(0,n.D$)((function(t){return e.$emit("close")}),["self"]))},[(0,o.Lk)("div",lt,[ct,(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)((function(e){return u(a.value)}),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value.titulo=e}),placeholder:"Titulo",class:"w-full p-2 border rounded mt-2 font-bold"},null,512),[[n.Jo,a.value.titulo]]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.value.mensaje=e}),placeholder:"Mensaje",class:"w-full p-2 border rounded mt-2"},null,512),[[n.Jo,a.value.mensaje]]),(0,o.Lk)("div",{class:"mt-4"},[dt,(0,o.Lk)("button",{onClick:l,class:"bg-red-500 text-white px-4 py-2 rounded ml-2"},"Cancelar")])],32)])])}}});const pt=ft;var vt=pt,bt={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},gt={class:"bg-white p-4 rounded-lg shadow-lg"},mt=(0,o.Lk)("h2",{class:"text-xl font-bold"},"Confirma Borrado",-1),ht=(0,o.Lk)("p",null,"Estas Seguro que Quieres Borrar este Topico?",-1),xt={class:"mt-4"},kt=(0,o.pM)({__name:"ConfirmDeleteModal",props:{topicId:{}},emits:["close","topicDeleted"],setup:function(e,t){var r=t.emit,n=e,i=r;function s(e){return(0,d.sH)(this,void 0,void 0,(function(){var t,r;return(0,d.YH)(this,(function(n){switch(n.label){case 0:console.log("topico a elimnar:",e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,h.deleteTopic(e)];case 2:return t=n.sent(),console.log("respuesta: ",t.data),k().fire({title:"Eliminacion exitosa!",text:t.data,icon:"success",confirmButtonText:"Ok"}),i("topicDeleted",e),i("close"),[3,4];case 3:return r=n.sent(),console.error("error",r),[3,4];case 4:return[2]}}))}))}function a(){i("close")}return function(e,t){return(0,o.uX)(),(0,o.CE)("div",bt,[(0,o.Lk)("div",gt,[mt,ht,(0,o.Lk)("div",xt,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=function(e){return s(n.topicId)}),class:"bg-red-500 text-white px-4 py-2 rounded"},"Borrar"),(0,o.Lk)("button",{onClick:a,class:"bg-gray-500 text-white px-4 py-2 rounded ml-2"},"Cancelar")])])])}}});const yt=kt;var wt=yt,Lt=(0,o.Lk)("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[(0,o.Lk)("h2",{class:"whitespace-nowrap text-lg font-semibold leading-none tracking-tight"},"Crear Nuevo Topico")],-1),Ct={class:"grid gap-4 py-4"},jt={class:"grid items-center grid-cols-4 gap-4"},Et=(0,o.Lk)("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-right"},"Titulo",-1),Rt={class:"grid items-center grid-cols-4 gap-4"},_t=(0,o.Lk)("label",{class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-right"},"Mensaje",-1),Tt={class:"flex justify-end space-x-2 sm:flex-grow sm:justify-end sm:space-x-2"},Ht=(0,o.Lk)("button",{type:"submit",class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Crear ",-1),Ot={class:"grid"},At=(0,o.pM)({__name:"CreateTopicModal",props:{id:{}},emits:["topicCreated","close"],setup:function(e,t){var r=t.emit,i=(0,p.KR)(""),s=(0,p.KR)(""),a=e,u=r;function l(){var e;return(0,d.sH)(this,void 0,void 0,(function(){var t,r;return(0,d.YH)(this,(function(n){switch(n.label){case 0:console.log("Id del curso:",a.id),n.label=1;case 1:return n.trys.push([1,3,,4]),console.log("Topico creado"),[4,h.createTopics(a.id,i.value,s.value)];case 2:return t=n.sent(),console.log("respuesta:",t),k().fire({title:"Registro exitoso!",text:"Se ha creado nuevo Topico.",icon:"success",confirmButtonText:"Ok"}),u("topicCreated",t),u("close"),[3,4];case 3:return r=n.sent(),v.A.isAxiosError(r)&&(r.response?409===r.response.status&&k().fire({title:"Error!",text:null===(e=r.response)||void 0===e?void 0:e.data,icon:"error",confirmButtonText:"Ok"}):k().fire({title:"Error!",text:"Ha ocurrido un error desconocido",icon:"error",confirmButtonText:"Ok"})),[3,4];case 4:return[2]}}))}))}return function(e,t){return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)((function(e){return l()}),["prevent"])),class:"rounded-lg fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-[425px]",style:{"pointer-events":"auto"}},[Lt,(0,o.Lk)("div",Ct,[(0,o.Lk)("div",jt,[Et,(0,o.bo)((0,o.Lk)("input",{class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 col-span-3","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value=e}),placeholder:"Titulo del Topico",required:""},null,512),[[n.Jo,i.value]])]),(0,o.Lk)("div",Rt,[_t,(0,o.bo)((0,o.Lk)("textarea",{class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 col-span-3","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.value=e}),required:"",placeholder:"Mensaje a publicar"},null,512),[[n.Jo,s.value]])])]),(0,o.Lk)("div",Tt,[Ht,(0,o.Lk)("div",Ot,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(0,n.D$)((function(t){return e.$emit("close")}),["self"])),class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"}," Cancelar ")])])],32)}}});const St=At;var Bt=St,Kt=function(e){return(0,o.Qi)("data-v-77be7dc4"),e=e(),(0,o.jt)(),e},It={class:"flex h-screen w-full flex-col"},Xt={class:"flex-1 bg-gray-100 p-6"},Dt={class:"container mx-auto"},Mt={class:"grid gap-3"},$t={class:"mb-6 flex items-center justify-between"},Ut={class:"text-2xl text-black font-bold"},Vt=Kt((function(){return(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)})),Pt=Kt((function(){return(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-2 h-4 w-4"},[(0,o.Lk)("path",{d:"M5 12h14"}),(0,o.Lk)("path",{d:"M12 5v14"})],-1)})),Yt=Kt((function(){return(0,o.Lk)("hr",null,null,-1)})),Ft={class:"flex justify-between items-center"},Wt={class:"mb-2 text-lg font-bold flex"},Qt={key:0,class:"flex space-x-2"},qt=["onClick"],Nt=["onClick"],Jt={class:"p-4 flex"},zt={class:"text-muted-foreground"},Gt={class:"flex justify-end"},Zt={class:"text-sm text-zinc-500"},er={class:"flex items-center justify-between"},tr={class:"inline-flex w-fit items-center whitespace-nowrap rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},rr=Kt((function(){return(0,o.Lk)("footer",{class:"bg-gray-900 py-4 px-6 text-white"},[(0,o.Lk)("div",{class:"container mx-auto text-center"},"© 2024 Forum. All rights reserved.")],-1)})),nr=(0,o.pM)({__name:"TopicsView",props:{id:{}},setup:function(e){var t=this,r=(0,p.KR)([]),i=(0,p.KR)(""),s=(0,p.KR)(!1),a=(0,p.KR)(null),u=(0,p.KR)(!1),l=(0,p.KR)(!1),c=(0,p.KR)(null);function v(e){a.value=e,s.value=!0}function b(){a.value=null,s.value=!1}var g=function(){u.value=!0},m=function(){u.value=!1};function x(e){c.value=e,l.value=!0}function k(){c.value=null,l.value=!1}var y=e,w=(0,p.KR)("");(0,o.sV)((function(){var e=localStorage.getItem("token");if(e){var t=(0,E.s)(e);t.sub&&(w.value=t.sub)}}));var L=function(){return(0,d.sH)(t,void 0,void 0,(function(){var e,t;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h.getTopicsBoard(y.id)];case 1:return e=n.sent(),e.data&&e.data.topicos&&(r.value=e.data.topicos,i.value=e.data.nombre),[3,3];case 2:return t=n.sent(),console.error("Error fetching topics:",t),[3,3];case 3:return[2]}}))}))};function C(e){console.log("datosTopico",e.data);var t=e.data;r.value.push(t)}function j(e){var t=r.value.findIndex((function(t){return t.id===e.id}));-1!==t&&(r.value[t]=e)}function R(e){r.value=r.value.filter((function(t){return t.id!==e}))}return(0,o.sV)(L),function(e,t){var d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",It,[(0,o.bF)(W),(0,o.Lk)("main",Xt,[(0,o.Lk)("div",Dt,[(0,o.Lk)("div",Mt,[(0,o.Lk)("div",$t,[(0,o.Lk)("h1",Ut,[(0,o.bF)(d,{to:"/",class:"flecha"},{default:(0,o.k6)((function(){return[Vt]})),_:1}),(0,o.eW)("Topics of "+(0,f.v_)(i.value),1)]),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(0,n.D$)((function(e){return g()}),["prevent"])),class:"bg-black text-white font-medium font-serif hover:opacity-80 transition-opacity inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},[Pt,(0,o.eW)(" Create Topic ")])]),Yt,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,(function(e){return(0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"grid grid-cols-1 gap-4"},[(0,o.bF)(d,{to:"/topics/".concat(e.id,"/replies"),class:"group block rounded-lg bg-white p-4 shadow-md hover:bg-gray-100"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",Ft,[(0,o.Lk)("div",Wt,(0,f.v_)(e.titulo),1),e.usuario===w.value?((0,o.uX)(),(0,o.CE)("div",Qt,[(0,o.Lk)("button",{onClick:(0,n.D$)((function(t){return v(e)}),["prevent"]),class:"bg-white text-blue-950 border border-blue-950 px-2 py-1 rounded hover:text-white hover:bg-blue-700"}," Editar ",8,qt),(0,o.Lk)("button",{onClick:(0,n.D$)((function(t){return x(e.id)}),["prevent"]),class:"bg-white text-red-950 border border-red-950 px-2 py-1 rounded hover:text-white hover:bg-red-700"}," Borrar ",8,Nt)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Jt,[(0,o.Lk)("p",zt,(0,f.v_)(e.mensaje),1)]),(0,o.Lk)("div",Gt,[(0,o.Lk)("p",Zt,"Posted by: "+(0,f.v_)(e.usuario),1)]),(0,o.Lk)("div",er,[(0,o.Lk)("div",tr,(0,f.v_)(e.numRespuestas)+" Respuestas ",1)])]})),_:2},1032,["to"])])})),128))])])]),rr,u.value?((0,o.uX)(),(0,o.Wv)(z,{key:0,onClose:m},{default:(0,o.k6)((function(){return[(0,o.bF)(Bt,{id:y.id,onClose:m,onTopicCreated:C},null,8,["id"])]})),_:1})):(0,o.Q3)("",!0),s.value&&a.value?((0,o.uX)(),(0,o.Wv)(vt,{key:1,topic:a.value,onClose:b,onTopicUpdated:j},null,8,["topic"])):(0,o.Q3)("",!0),l.value&&c.value?((0,o.uX)(),(0,o.Wv)(wt,{key:2,topicId:c.value,onClose:k,onTopicDeleted:R},null,8,["topicId"])):(0,o.Q3)("",!0)])}}});const or=(0,s.A)(nr,[["__scopeId","data-v-77be7dc4"]]);var ir=or,sr={class:"bg-white p-4 rounded-lg shadow-lg"},ar=(0,o.Lk)("h2",{class:"text-xl font-bold"},"Editar Respuesta",-1),ur={class:"font-bold flex m-2 p-2"},lr=(0,o.Lk)("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded"},"Guardar Cambios",-1),cr=(0,o.pM)({__name:"EditReplyModal",props:{reply:{}},emits:["close","replyUpdated"],setup:function(e,t){var r=t.emit,i=e,s=r,a=(0,p.KR)((0,d.Cl)({},i.reply));function u(e){return(0,d.sH)(this,void 0,void 0,(function(){var t,r;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h.updateReply(e.id,e.mensaje)];case 1:return t=n.sent(),console.log("recibido: ",t.data),k().fire({title:"Edicion exitosa!",text:"Respuesta Editada",icon:"success",confirmButtonText:"Ok"}),[3,3];case 2:return r=n.sent(),console.error("error",r),[3,3];case 3:return s("replyUpdated",e),s("close"),[2]}}))}))}function l(){s("close")}return function(e,t){return(0,o.uX)(),(0,o.CE)("div",{class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",onClick:t[2]||(t[2]=(0,n.D$)((function(t){return e.$emit("close")}),["self"]))},[(0,o.Lk)("div",sr,[ar,(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,n.D$)((function(e){return u(a.value)}),["prevent"]))},[(0,o.Lk)("span",ur,"@"+(0,f.v_)(a.value.autor),1),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value.mensaje=e}),placeholder:"Mensaje",class:"w-full p-2 border rounded mt-2"},null,512),[[n.Jo,a.value.mensaje]]),(0,o.Lk)("div",{class:"mt-4"},[lr,(0,o.Lk)("button",{onClick:l,class:"bg-red-500 text-white px-4 py-2 rounded ml-2"},"Cancelar")])],32)])])}}});const dr=cr;var fr=dr,pr={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},vr={class:"bg-white p-4 rounded-lg shadow-lg"},br=(0,o.Lk)("h2",{class:"text-xl font-bold"},"Confirma Borrado",-1),gr=(0,o.Lk)("p",null,"Estas Seguro que Quieres Borrar esta Respuesta?",-1),mr={class:"mt-4"},hr=(0,o.pM)({__name:"ConfirmDeleteReplyModal",props:{replyId:{}},emits:["close","replyDeleted"],setup:function(e,t){var r=t.emit,n=e,i=r;function s(e){return(0,d.sH)(this,void 0,void 0,(function(){var t,r;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h.deleteReply(e)];case 1:return t=n.sent(),console.log("respuesta: ",t.data),k().fire({title:"Eliminacion exitosa!",text:t.data,icon:"success",confirmButtonText:"Ok"}),i("replyDeleted",e),i("close"),[3,3];case 2:return r=n.sent(),console.error("error",r),[3,3];case 3:return[2]}}))}))}function a(){i("close")}return function(e,t){return(0,o.uX)(),(0,o.CE)("div",pr,[(0,o.Lk)("div",vr,[br,gr,(0,o.Lk)("div",mr,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=function(e){return s(n.replyId)}),class:"bg-red-500 text-white px-4 py-2 rounded"},"Borrar"),(0,o.Lk)("button",{onClick:a,class:"bg-gray-500 text-white px-4 py-2 rounded ml-2"},"Cancelar")])])])}}});const xr=hr;var kr=xr,yr=function(e){return(0,o.Qi)("data-v-4fdd2ebc"),e=e(),(0,o.jt)(),e},wr={class:"flex h-screen w-full flex-col"},Lr={class:"flex-1 bg-gray-100 p-6"},Cr={class:"container mx-auto replycss"},jr={class:"mb-6 flex items-center justify-between"},Er={class:"text-2xl text-black font-bold"},Rr=yr((function(){return(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)})),_r={class:"bg-white p-4 rounded shadow mb-4"},Tr={class:"font-bold"},Hr={class:"mb-4"},Or=yr((function(){return(0,o.Lk)("hr",null,null,-1)})),Ar={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-accent replycss group rounded-lg shadow-md p-4"},Sr={class:"font-bold"},Br={key:0,class:"flex space-x-2 mt-2 sm:mt-0"},Kr=["onClick"],Ir=["onClick"],Xr={class:"mt-6"},Dr={class:"pt-3"},Mr=yr((function(){return(0,o.Lk)("footer",{class:"bg-gray-900 py-4 px-6 text-white"},[(0,o.Lk)("div",{class:"container mx-auto text-center"},"© 2023 Forum. All rights reserved.")],-1)})),$r=(0,o.pM)({__name:"RepliesView",props:{id:{}},setup:function(e){var t=this,r=(0,p.KR)([]),i=(0,p.KR)(""),s=(0,p.KR)(""),a=(0,p.KR)(""),u=(0,p.KR)(""),l=(0,p.KR)(""),c=(0,p.KR)(""),v=(0,p.KR)(!1),b=(0,p.KR)(!1),g=(0,p.KR)(null),m=(0,p.KR)(null),x=e;function y(e){m.value=(0,d.Cl)({},e),v.value=!0}function w(){v.value=!1}function L(e){g.value=e,b.value=!0}function C(){b.value=!1}var j=function(){return(0,d.sH)(t,void 0,void 0,(function(){var e,t;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h.getRepliesBoard(x.id)];case 1:return e=n.sent(),console.log("response:",e),e.data&&e.data.respuestas&&(r.value=e.data.respuestas,i.value=e.data.titulo,s.value=e.data.mensaje,l.value=e.data.usuario,u.value=e.data.idCurso),[3,3];case 2:return t=n.sent(),console.error("Error fetching replies:",t),[3,3];case 3:return[2]}}))}))};function R(){return(0,d.sH)(this,void 0,void 0,(function(){var e,t;return(0,d.YH)(this,(function(n){switch(n.label){case 0:console.log("ID:",x.id),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,h.createReplies(x.id,a.value)];case 2:return e=n.sent(),e.data&&(t=e.data,r.value.push(t),a.value="",k().fire({title:"Registro exitoso!",text:"Se ha creado nueva Respuesta.",icon:"success",confirmButtonText:"Ok"})),[3,4];case 3:return n.sent(),k().fire({title:"Error!",text:"No se pudo agregar la respuesta",icon:"error",confirmButtonText:"Ok"}),[3,4];case 4:return[2]}}))}))}function _(e){var t=r.value.findIndex((function(t){return t.id===e.id}));-1!==t&&(r.value[t]=e)}function T(e){r.value=r.value.filter((function(t){return t.id!==e}))}return(0,o.sV)((function(){var e=localStorage.getItem("token");if(e){var t=(0,E.s)(e);t.sub&&(c.value=t.sub)}})),(0,o.sV)(j),function(e,t){var d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",wr,[(0,o.bF)(W),(0,o.Lk)("main",Lr,[(0,o.Lk)("div",Cr,[(0,o.Lk)("div",jr,[(0,o.Lk)("h1",Er,[(0,o.bF)(d,{to:"/cursos/".concat(u.value,"/topics"),class:"flecha"},{default:(0,o.k6)((function(){return[Rr]})),_:1},8,["to"]),(0,o.eW)(" Respuestas de "+(0,f.v_)(i.value),1)])]),(0,o.Lk)("div",_r,[(0,o.Lk)("h3",Tr,"@"+(0,f.v_)(l.value),1),(0,o.Lk)("p",Hr,(0,f.v_)(s.value),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,(function(e){return(0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"grid gap-3"},[Or,(0,o.Lk)("div",Ar,[(0,o.Lk)("div",null,[(0,o.Lk)("span",Sr,"@"+(0,f.v_)(e.autor),1),(0,o.Lk)("p",null,(0,f.v_)(e.mensaje),1)]),e.autor===c.value?((0,o.uX)(),(0,o.CE)("div",Br,[(0,o.Lk)("button",{onClick:(0,n.D$)((function(t){return y(e)}),["prevent"]),class:"bg-white border border-black text-black hover:bg-black hover:text-white p-1 rounded"}," Editar ",8,Kr),(0,o.Lk)("button",{onClick:(0,n.D$)((function(t){return L(e.id)}),["prevent"]),class:"bg-white border border-red-700 text-red-700 hover:text-white hover:bg-red-700 p-1 rounded"}," Borrar ",8,Ir)])):(0,o.Q3)("",!0)])])})),128)),(0,o.Lk)("div",Xr,[(0,o.bo)((0,o.Lk)("textarea",{class:"flex min-h-[80px] bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 w-full rounded-lg border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Escribir su respuesta...","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value=e})},null,512),[[n.Jo,a.value]]),(0,o.Lk)("div",Dr,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(0,n.D$)((function(e){return R()}),["prevent"])),class:"bg-black text-white font-medium font-serif hover:opacity-80 transition-opacity inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"}," Enviar Respuesta ")])])])]),Mr]),v.value&&m.value?((0,o.uX)(),(0,o.Wv)(fr,{key:0,reply:m.value,onClose:w,onReplyUpdated:_},null,8,["reply"])):(0,o.Q3)("",!0),b.value&&g.value?((0,o.uX)(),(0,o.Wv)(kr,{key:1,replyId:g.value,onClose:C,onReplyDeleted:T},null,8,["replyId"])):(0,o.Q3)("",!0)],64)}}});const Ur=(0,s.A)($r,[["__scopeId","data-v-4fdd2ebc"]]);var Vr=Ur,Pr=[{path:"/",name:"home",component:ut,meta:{guest:!0}},{path:"/cursos/:id/topics",name:"topics",component:ir,meta:{requiresAuth:!0},props:!0},{path:"/topics/:id/replies",name:"replies",component:Vr,meta:{requiresAuth:!0},props:!0}],Yr=(0,c.aE)({history:(0,c.LA)("/"),routes:Pr});Yr.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))?w.getters.isAuthenticated?r():r({path:"/",query:{redirect:e.fullPath}}):r()})),v.A.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&401===e.response.status){w.dispatch("logout");var t=e.response.data;k().fire({title:"Ups",text:t+" Vuelva a iniciar sesión.",icon:"warning",confirmButtonText:"Iniciar sesión"}).then((function(){Yr.push({path:"/",query:{redirect:Yr.currentRoute.value.fullPath}})}))}return Promise.reject(e)}));var Fr=Yr;(0,n.Ef)(l).use(w).use(Fr).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var a=!0,u=0;u<n.length;u++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(a=!1,i<s&&(s=i));if(a){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,s=n[0],a=n[1],u=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(u)var c=u(r)}for(t&&t(n);l<s.length;l++)i=s[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self["webpackChunkforohub"]=self["webpackChunkforohub"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(614)}));n=r.O(n)})();
//# sourceMappingURL=app.3a18bb20.js.map